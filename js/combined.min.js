function shuffle(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}var activityIndicatorOff,activityIndicatorOn,adData,animateLoad,bindClicks,byteCount,cartoAccount,cartoMap,cartoVis,createMap,d$,decode64,deepJQuery,defaultMapMouseOverBehaviour,delay,doCORSget,e,encode64,foo,formatScientificNames,getLocation,getMaxZ,getPosterFromSrc,goTo,isBlank,isBool,isEmpty,isHovered,isJson,isNull,isNumber,jsonTo64,lightboxImages,loadJS,mapNewWindows,openLink,openTab,overlayOff,overlayOn,prepURI,randomInt,requestCartoUpload,roundNumber,roundNumberSigfig,startLoad,stopLoad,stopLoadError,toFloat,toInt,toObject,toastStatusMessage,uri,slice=[].slice;try{uri=new Object,uri.o=$.url(),uri.urlString=uri.o.attr("protocol")+"://"+uri.o.attr("host")+uri.o.attr("directory"),uri.query=uri.o.attr("fragment")}catch(_error){e=_error,console.warn("PURL not installed!")}window.locationData=new Object,locationData.params={enableHighAccuracy:!0},locationData.last=void 0,window.debounce_timer=null,null==window.adminParams&&(window.adminParams=new Object),isBool=function(a,b){if(null==b&&(b=!1),b)return"boolean"==typeof a;try{return"boolean"==typeof a?a===!0||a===!1:"string"==typeof a?"true"===a.toLowerCase()||"false"===a.toLowerCase():"number"==typeof a?1===a||0===a:!1}catch(c){return e=c,!1}},isEmpty=function(a){return!a||0===a.length},isBlank=function(a){return!a||/^\s*$/.test(a)},isNull=function(a){try{if((isEmpty(a)||isBlank(a)||null==a)&&a!==!1&&0!==a)return!0}catch(b){return e=b,!1}return!1},isJson=function(a){if("object"==typeof a)return!0;try{return JSON.parse(a),!0}catch(b){return e=b,!1}return!1},isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},toFloat=function(a){return!isNumber(a)||isNull(a)?0:parseFloat(a)},toInt=function(a){return!isNumber(a)||isNull(a)?0:parseInt(a)},String.prototype.toBool=function(){return"true"===this.toString()},Boolean.prototype.toBool=function(){return"true"===this.toString()},Number.prototype.toBool=function(){return"1"===this.toString()},String.prototype.addSlashes=function(){return this.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},Object.size=function(a){var b,c;if("object"!=typeof a)try{return a.length}catch(d){e=d,console.error("Passed argument isn't an object and doesn't have a .length parameter"),console.warn(e.message)}c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},delay=function(a,b){return setTimeout(b,a)},roundNumber=function(a,b){var c;return null==b&&(b=0),c=Math.pow(10,b),Math.round(a*c)/c},roundNumberSigfig=function(a,b){var c,d,e,f,g;return null==b&&(b=0),e=roundNumber(a,b).toString(),c=e.split("."),1===c.length?e+"."+Array(b+1).join("0"):(g=c.pop(),f=c[0]+".",g.length===b?e:(d=b-g.length,g+=Array(d+1).join("0"),""+f+g))},jsonTo64=function(a){var b;return"array"==typeof a&&(a=toObject(arr)),b=JSON.stringify(a),encodeURIComponent(encode64(b))},encode64=function(a){try{return Base64.encode(a)}catch(b){return e=b,console.warn("Bad encode string provided"),a}},decode64=function(a){try{return Base64.decode(a)}catch(b){return e=b,console.warn("Bad decode string provided"),a}},jQuery.fn.polymerSelected=function(a,b){var c,d,f;if(null==a&&(a=void 0),null==b&&(b="attrForSelected"),c=$(this).attr(b),null==a){f=void 0;try{f=$(this).get(0).selected,isNumber(f)&&!isNull(c)&&(d=$(this).find("paper-item")[toInt(f)],f=$(d).attr(c))}catch(g){return e=g,!1}return("null"===f||null==f)&&(f=void 0),f}if(isBool(a)){if($(this).parent().children().removeAttribute("aria-selected"),$(this).parent().children().removeAttribute("active"),$(this).parent().children().removeClass("iron-selected"),$(this).prop("selected",a),$(this).prop("active",a),$(this).prop("aria-selected",a),a===!0)return $(this).addClass("iron-selected")}else try{return $(this).get(0).select(a)}catch(g){return e=g,!1}},jQuery.fn.polymerChecked=function(a){var b;return null==a&&(a=void 0),null!=a?jQuery(this).prop("checked",a):(b=jQuery(this)[0].checked,("null"===b||null==b)&&(b=void 0),b)},isHovered=function(a){return $(a+":hover").length>0},jQuery.fn.exists=function(){return jQuery(this).length>0},jQuery.fn.isVisible=function(){return jQuery(this).is(":visible")&&"hidden"!==jQuery(this).css("visibility")},jQuery.fn.hasChildren=function(){return Object.size(jQuery(this).children())>3},byteCount=function(a){return function(a){return encodeURI(a).split(/%..|./).length-1}}(this),toObject=function(a){var b,c,d;d=new Object;for(c in a)b=a[c],void 0!==b&&(d[c]=b);return d},loadJS=function(a,b,c){var d,f,g;if(null==b&&(b=new Object),null==c&&(c=!0),$("script[src='"+a+"']").exists()){if("function"==typeof b)try{b()}catch(h){e=h,console.error("Script is already loaded, but there was an error executing the callback function - "+e.message)}return!0}return g=document.createElement("script"),g.setAttribute("src",a),g.setAttribute("async","async"),g.setAttribute("type","text/javascript"),g.src=a,g.async=!0,f=function(){var c;c=g.readyState;try{if(!b.done&&(!c||/loaded|complete/.test(c))&&(b.done=!0,"function"==typeof b))try{return b()}catch(d){return e=d,console.error("Postload callback error for "+a+" - "+e.message),console.warn(e.stack)}}catch(d){return e=d,console.error("Onload error - "+e.message)}},d=function(){console.warn("There may have been a problem loading "+a);try{if(!b.done&&(b.done=!0,"function"==typeof b&&c))try{return b()}catch(d){return e=d,console.error("Post error callback error - "+e.message)}}catch(d){return e=d,console.error("There was an error in the error handler! "+e.message)}},g.setAttribute("onload",f),g.setAttribute("onreadystate",f),g.setAttribute("onerror",d),g.onload=g.onreadystate=f,g.onerror=d,document.getElementsByTagName("head")[0].appendChild(g),!0},String.prototype.toTitleCase=function(){var a,b,c,d,e,f,g,h,i,j,k;for(h=this.replace(/([^\W_]+[^\s-]*) */g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}),g=["A","An","The","And","But","Or","For","Nor","As","At","By","For","From","In","Into","Near","Of","On","Onto","To","With"],a=0,c=g.length;c>a;a++)e=g[a],f=new RegExp("\\s"+e+"\\s","g"),h=h.replace(f,function(a){return a.toLowerCase()});for(k=["Id","Tv"],b=0,d=k.length;d>b;b++)i=k[b],j=new RegExp("\\b"+i+"\\b","g"),h=h.replace(j,i.toUpperCase());return h},Function.prototype.debounce=function(){var a,b,c,d,f,g;if(f=arguments[0],c=arguments[1],g=arguments[2],a=4<=arguments.length?slice.call(arguments,3):[],null==f&&(f=300),null==c&&(c=!1),null==g&&(g=debounce_timer),d=this,b=function(){return c||d.apply(d,a),console.log("Debounce applied")},null!=g)try{clearTimeout(g)}catch(h){e=h}else c&&(d.apply(obj,a),console.log("Executed immediately"));return setTimeout(b,f)},randomInt=function(a,b){var c,d,e;return null==a&&(a=0),null==b&&(b=1),e=Math.random(),null==a&&(c=[0,a],a=c[0],b=c[1]),a>b&&(d=[b,a],a=d[0],b=d[1]),Math.floor(e*(b-a+1)+a)},animateLoad=function(a){var b;null==a&&(a="loader"),isNumber(a)&&(a="loader"),"#"===a.slice(0,1)?(b=a,a=a.slice(1)):b="#"+a;try{return $(b).exists()?$(b).attr("active",!0):$("body").append('<paper-spinner id="'+a+'" active></paper-spinner'),!1}catch(c){return e=c,console.log("Could not animate loader",e.message)}},startLoad=animateLoad,stopLoad=function(a,b){var c;null==a&&(a="loader"),null==b&&(b=1e3),"#"===a.slice(0,1)?(c=a,a=a.slice(1)):c="#"+a;try{if($(c).exists())return $(c).addClass("good"),delay(b,function(){return $(c).removeClass("good"),$(c).removeAttr("active")})}catch(d){return e=d,console.log("Could not stop load animation",e.message)}},stopLoadError=function(a,b,c){var d;null==b&&(b="loader"),null==c&&(c=5e3),"#"===b.slice(0,1)?(d=b,b=b.slice(1)):d="#"+b;try{if($(d).exists())return $(d).addClass("bad"),null!=a&&toastStatusMessage(a,"",c),delay(c,function(){return $(d).removeClass("bad"),$(d).removeAttr("active")})}catch(f){return e=f,console.log("Could not stop load error animation",e.message)}},toastStatusMessage=function(a,b,c,d){var e,f;return null==b&&(b=""),null==c&&(c=3e3),null==d&&(d="#status-message"),null==(null!=(f=window.metaTracker)?f.isToasting:void 0)&&null==window.metaTracker&&(window.metaTracker=new Object,window.metaTracker.isToasting=!1),window.metaTracker.isToasting?(delay(250,function(){return toastStatusMessage(a,b,c,d)}),!1):(window.metaTracker.isToasting=!0,isNumber(c)||(c=3e3),d.slice(0,1)===!1&&(d="#"+d),$(d).exists()||(e='<paper-toast id="'+d.slice(1)+'" duration="'+c+'"></paper-toast>',$(e).appendTo("body")),$(d).attr("text",a).text(a).addClass(b),$(d).get(0).show(),delay(c+500,function(){return $(d).empty(),$(d).removeClass(b),$(d).attr("text",""),window.metaTracker.isToasting=!1}))},openLink=function(a){return null==a?!1:(window.open(a),!1)},openTab=function(a){return openLink(a)},goTo=function(a){return null==a?!1:(window.location.href=a,!1)},mapNewWindows=function(a){return null==a&&(a=!0),$(".newwindow").each(function(){var b,c;return b=$(this).attr("href"),null==b&&(b=$(this).attr("data-href")),c=function(a){return null==a?!1:(window.open(a),!1)},$(this).click(function(d){return a&&(d.preventDefault(),d.stopPropagation()),c(b)}),$(this).keypress(function(){return c(b)})})},deepJQuery=function(a){try{if(!$("html /deep/ "+a).exists())throw"Bad /deep/ selector";return $("html /deep/ "+a)}catch(b){e=b;try{if(!$("html >>> "+a).exists())throw"Bad >>> selector";return $("html >>> "+a)}catch(b){return e=b,$(a)}}},d$=function(a){return deepJQuery(a)},bindClicks=function(a){return null==a&&(a=".click"),$(a).each(function(){var a,b;try{if(b=$(this).attr("data-href"),!isNull(b)){$(this).unbind();try{b===uri.o.attr("path")&&"paper-tab"===$(this).prop("tagName").toLowerCase()&&$(this).parent().prop("selected",$(this).index())}catch(c){e=c,console.warn("tagname lower case error")}return $(this).click(function(){var a,c,d;return(null!=(a=$(this).attr("newTab"))?a.toBool():void 0)||(null!=(c=$(this).attr("newtab"))?c.toBool():void 0)||(null!=(d=$(this).attr("data-newtab"))?d.toBool():void 0)?openTab(b):goTo(b)}),b}if(a=$(this).attr("data-function"),null!=a)return $(this).unbind(),$(this).click(function(){try{return console.log("Executing bound function "+a+"()"),window[a]()}catch(b){return e=b,console.error("'"+a+"()' is a bad function - "+e.message)}})}catch(c){return e=c,console.error("There was a problem binding to #"+$(this).attr("id")+" - "+e.message)}}),!1},getPosterFromSrc=function(a){var b,c;try{return c=a.split("."),b=c.pop(),c.push("png"),c.join(".")}catch(d){return e=d,""}},doCORSget=function(a,b,c,d){var f,g,h,i;null==c&&(c=void 0),null==d&&(d=void 0),f=function(){if("function"==typeof d)return d();throw new Error("There was an error performing the CORS request")},h={url:a,data:b,type:"get",crossDomain:!0};try{$.ajax(h).done(function(a){return"function"==typeof c?(c(),!1):console.log(response)}).fail(function(a,b){return console.warn("Couldn't perform jQuery AJAX CORS. Attempting manually.")})}catch(j){e=j,console.warn("There was an error using jQuery to perform the CORS request. Attemping manually.")}if(a=a+"?"+b,g=function(a,b){var c;return null==a&&(a="get"),c=new XMLHttpRequest,"withCredentials"in c?c.open(a,b,!0):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(a,b)):c=null,c},i=g("get",a),!i)throw new Error("CORS not supported");return i.onload=function(){var a;return a=i.responseText,"function"==typeof c&&c(a),console.log(a),!1},i.onerror=function(){return console.warn("Couldn't do manual XMLHttp CORS request"),f()},i.send(),!1},lightboxImages=function(a,b){var c,d;return null==a&&(a=".lightboximage"),null==b&&(b=!1),d={onStart:function(){return overlayOn()},onEnd:function(){return overlayOff(),activityIndicatorOff()},onLoadStart:function(){return activityIndicatorOn()},onLoadEnd:function(){return activityIndicatorOff()},allowedTypes:"png|jpg|jpeg|gif|bmp|webp",quitOnDocClick:!0,quitOnImgClick:!0},c=b?d$(a):$(a),loadJS("bower_components/imagelightbox/dist/imagelightbox.min.js",function(){return c.click(function(a){try{return a.preventDefault(),a.stopPropagation(),$(this).imageLightbox(d).startImageLightbox(),console.warn("Event propagation was stopped when clicking on this.")}catch(b){return a=b,console.error("Unable to lightbox this image!")}}).each(function(){var b,c;console.log("Using selectors '"+a+"' / '"+this+"' for lightboximages");try{if("img"===$(this).prop("tagName").toLowerCase()&&"a"!==$(this).parent().prop("tagName").toLowerCase())return c=$(this).removeClass("lightboximage").prop("outerHTML"),b=function(){switch(!1){case!!isNull($(this).attr("data-layzr-retina")):return $(this).attr("data-layzr-retina");case!!isNull($(this).attr("data-layzr")):return $(this).attr("data-layzr");case!!isNull($(this).attr("data-lightbox-image")):return $(this).attr("data-lightbox-image");default:return $(this).attr("src")}}.call(this),$(this).replaceWith("<a href='"+b+"' class='lightboximage'>"+c+"</a>"),$("a[href='"+b+"']").imageLightbox(d)}catch(f){return e=f,console.log("Couldn't parse through the elements")}}),console.info("Lightboxed the following:",c)})},activityIndicatorOn=function(){return $('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},activityIndicatorOff=function(){return $("#imagelightbox-loading").remove(),$("#imagelightbox-overlay").click(function(){return $("#imagelightbox").click()})},overlayOn=function(){return $('<div id="imagelightbox-overlay"></div>').appendTo("body")},overlayOff=function(){return $("#imagelightbox-overlay").remove()},formatScientificNames=function(a){return null==a&&(a=".sciname"),$(".sciname").each(function(){var a;return a="italic"===$(this).css("font-style")?"normal":"italic",$(this).css("font-style",a)})},prepURI=function(a){return a=encodeURIComponent(a),a.replace(/%20/g,"+")},window.locationData=new Object,locationData.params={enableHighAccuracy:!0},locationData.last=void 0,getLocation=function(a){var b,c;return null==a&&(a=void 0),c=function(a,b){return window.locationData.lat=a.coords.latitude,window.locationData.lng=a.coords.longitude,window.locationData.acc=a.coords.accuracy,window.locationData.last=Date.now(),null!=b&&b(window.locationData),!1},b=function(a,b){var c;return c=function(){switch(a.code){case 0:return"There was an error while retrieving your location: "+a.message;case 1:return"The user prevented this page from retrieving a location";case 2:return"The browser was unable to determine your location: "+a.message;case 3:return"The browser timed out retrieving your location."}}(),console.error(c),null!=b&&b(!1),!1},navigator.geolocation?navigator.geolocation.getCurrentPosition(c,b,window.locationData.params):(console.warn("This browser doesn't support geolocation!"),null!=a?a(!1):void 0)},getMaxZ=function(){var a;return a=function(){return $.map($("body *"),function(a,b){return"static"!==$(a).css("position")?parseInt($(a).css("z-index")||1):void 0})},Math.max.apply(null,a())},foo=function(){return toastStatusMessage("Sorry, this feature is not yet finished"),stopLoad(),!1},$(function(){bindClicks(),formatScientificNames(),lightboxImages();try{$("body").tooltip({selector:"[data-toggle='tooltip']"})}catch(a){e=a,console.warn("Tooltips were attempted to be set up, but do not exist")}try{return checkAdmin(),("undefined"!=typeof adminParams&&null!==adminParams?adminParams.loadAdminUi:void 0)===!0?(console.info("Doing admin setup"),loadJS("js/admin.min.js",function(){return console.info("Loaded admin file"),loadAdminUi()})):console.info("No admin setup requested")}catch(a){}}),cartoAccount="tigerhawkvok",cartoMap=null,cartoVis=null,adData=new Object,window.geo=new Object,geo.init=function(){var a,b;return a='<link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css" />',$("head").append(a),b=function(){return createMap("map",adData.cartoRef),!1},loadJS("http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js",b,!1)},defaultMapMouseOverBehaviour=function(a,b,c,d,e){return console.log(a,b,c,d,e)},createMap=function(a,b){var c,d,e;return null==a&&(a="map"),null==b&&(b="38544c04-5e56-11e5-8515-0e4fddd5de28"),null==b&&console.info("Can't create map without a data visualization identifier"),c="http://"+cartoAccount+".cartodb.com/api/v2/viz/"+b+"/viz.json",e={cartodb_logo:!1,https:!0,mobile_layout:!0,gmaps_base_type:"hybrid"},$("#"+a).exists()||(d='<div id="'+a+'" class="carto-map map">\n  <!-- Dynamically inserted from unavailable target -->\n</div>',$("body").append()),cartodb.createVis(a,c).done(function(a,b){return cartoVis=a,cartoMap=a.getNativeMap(),b[1].setInteraction(!0),b[1].on("featureOver",defaultMapMouseOverBehaviour)}).error(function(a){return console.error("Couldn't get map - "+a)})},requestCartoUpload=function(a){var b,c,d,f;return"object"!=typeof a?(console.info("This function requires the base data to be a JSON object."),!1):(d=$.cookie(uri.domain+"_link"),c=$.cookie(uri.domain+"_auth"),f=$.cookie(uri.domain+"_secret"),null==d||null==c||null==f?(console.error("You're not logged in. Got one or more invalid tokens for secrets.",d,c,f),toastStatusMessage("Sorry, you're not logged in. Please log in and try again."),!1):(b="hash="+c+"&secret="+f+"&dblink="+dblink,$.post("admin_api.php",b,"json").done(function(b){var c,d,f,g,h,i,j,k,l,m,n,o;if(b.status){foo(),m=new Array,g=[[bb_north,bb_west],[bb_north,bb_east],[bb_south,bb_east],[bb_south,bb_west]];try{for(o=JSON.parse(a.transectRing),i=0,k=o.length;k>i;i++){if(d=o[i],2!==d.length)throw{message:"Bad coordinate length for '"+d+"'"};for(j=0,l=d.length;l>j;j++)if(c=d[j],!isNumber(c))throw{message:"Bad coordinate number '"+c+"'"}}}catch(p){e=p,console.warn("Error parsing the user transect ring - "+e.message),o=void 0}return n=null!=o?o:g,h={type:"GeometryCollection",geometries:[{type:"MultiPoint",coordinates:m},{type:"Polygon",coordinates:n}]},f="ST_AsGeoJSON("+stringifiedObj+")"}return console.error("Unable to authenticate session. Please log in."),toastStatusMessage("Sorry, your session has expired. Please log in and try again.")}).error(function(a,b){return console.error("Couldn't communicate with server!",a,b),toastStatusMessage("There was a problem communicating with the server. Please try again in a bit.")}),!1))},$(function(){});var verifyLoginCredentials;window.adminParams=new Object,adminParams.domain="amphibiandisease",adminParams.apiTarget="admin_api.php",adminParams.adminPageUrl="http://"+adminParams.domain+".org/admin-page.html",adminParams.loginDir="admin/",adminParams.loginApiTarget=adminParams.loginDir+"async_login_handler.php",window.loadAdminUi=function(){var a;try{verifyLoginCredentials(function(a){var b;return b="<h3>\n  Welcome, "+$.cookie(adminParams.domain+"_name")+'\n  <span id="pib-wrapper-settings" class="pib-wrapper" data-toggle="tooltip" title="User Settings" data-placement="bottom">\n    <paper-icon-button icon=\'icons:settings-applications\' class=\'click\' data-href=\''+a.login_url+"'></paper-icon-button>\n  </span>\n\n</h3>\n<div id='admin-actions-block'>\n  <div class='bs-callout bs-callout-info'>\n    <p>Please be patient while the administrative interface loads. TODO MAKE ADMIN UI</p>\n  </div>\n</div>",$("article #main-body").html(b),"undefined"!=typeof geo&&null!==geo&&geo.init(),bindClicks(),!1})}catch(b){a=b,$("article #main-body").html("<div class='bs-callout bs-callout-danger'><h4>Application Error</h4><p>There was an error in the application. Please refresh and try again. If this persists, please contact administration.</p></div>")}return!1},verifyLoginCredentials=function(a){var b,c,d,e;return c=$.cookie(adminParams.domain+"_auth"),e=$.cookie(adminParams.domain+"_secret"),d=$.cookie(adminParams.domain+"_link"),b="hash="+c+"&secret="+e+"&dblink="+d,$.post(adminParams.loginApiTarget,b,"json").done(function(b){return b.status===!0?a(b):goTo(b.login_url)}).fail(function(a,b){return $("article #main-body").html("<div class='bs-callout-danger bs-callout'><h4>Couldn't verify login</h4><p>There's currently a server problem. Try back again soon.</p>'</div>"),console.log(a,b),!1}),!1},$(function(){return $("#next").exists()&&$("#next").unbind().click(function(){return openTab(adminParams.adminPageUrl)}),loadJS("bower_components/bootstrap/dist/js/bootstrap.min.js",function(){return $("body").tooltip({selector:"[data-toggle='tooltip']"})})}),function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function a(a,b){for(var c=decodeURI(a),d=p[b?"strict":"loose"].exec(c),e={attr:{},param:{},seg:{}},g=14;g--;)e.attr[n[g]]=d[g]||"";return e.param.query=f(e.attr.query),e.param.fragment=f(e.attr.fragment),e.seg.path=e.attr.path.replace(/^\/+|\/+$/g,"").split("/"),e.seg.fragment=e.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),e.attr.base=e.attr.host?(e.attr.protocol?e.attr.protocol+"://"+e.attr.host:e.attr.host)+(e.attr.port?":"+e.attr.port:""):"",e}function b(a){var b=a.tagName;return"undefined"!=typeof b?m[b.toLowerCase()]:b}function c(a,b){if(0===a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function d(a,b,e,f){var g=a.shift();if(g){var h=b[e]=b[e]||[];"]"==g?j(h)?""!==f&&h.push(f):"object"==typeof h?h[k(h).length]=f:h=b[e]=[b[e],f]:~g.indexOf("]")?(g=g.substr(0,g.length-1),!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f)):(!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f))}else j(b[e])?b[e].push(f):"object"==typeof b[e]?b[e]=f:"undefined"==typeof b[e]?b[e]=f:b[e]=[b[e],f]}function e(a,b,c){if(~b.indexOf("]")){var e=b.split("[");d(e,a,"base",c)}else{if(!q.test(b)&&j(a.base)){var f={};for(var h in a.base)f[h]=a.base[h];a.base=f}""!==b&&g(a.base,b,c)}return a}function f(a){return i(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(c){}var d=b.indexOf("="),f=h(b),g=b.substr(0,f||d),i=b.substr(f||d,b.length);return i=i.substr(i.indexOf("=")+1,i.length),""===g&&(g=b,i=""),e(a,g,i)},{base:{}}).base}function g(a,b,c){var d=a[b];"undefined"==typeof d?a[b]=c:j(d)?d.push(c):a[b]=[d,c]}function h(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function i(a,b){for(var c=0,d=a.length>>0,e=arguments[2];d>c;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function j(a){return"[object Array]"===Object.prototype.toString.call(a)}function k(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function l(b,c){return 1===arguments.length&&b===!0&&(c=!0,b=void 0),c=c||!1,b=b||window.location.toString(),{data:a(b,c),attr:function(a){return a=o[a]||a,"undefined"!=typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!=typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!=typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return"undefined"==typeof a?this.data.seg.path:(a=0>a?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return"undefined"==typeof a?this.data.seg.fragment:(a=0>a?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var m={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},q=/^[0-9]+$/;return l.jQuery=function(a){null!=a&&(a.fn.url=function(c){var d="";return this.length&&(d=a(this).attr(b(this[0]))||""),l(d,c)},a.url=l)},l.jQuery(window.jQuery),l});var xmlToJSON=function(){this.version="1.1";var a={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!0},b=new RegExp(/(?!xmlns)^.*:/),c=new RegExp(/^\s+|\s+$/g);return this.grokType=function(a){return/^\s*$/.test(a)?null:/^(?:true|false)$/i.test(a)?"true"===a.toLowerCase():isFinite(a)?parseFloat(a):a},this.parseString=function(a,b){return this.parseXML(this.stringToXML(a),b)},this.parseXML=function(d,e){for(key in e)a[key]=e[key];var f={},g=0,h="";if(a.xmlns&&d.namespaceURI&&(f[a.namespaceKey]=d.namespaceURI),d.attributes&&d.attributes.length>0){var i={};for(g;g<d.attributes.length;g++)oAttrib=d.attributes.item(g),l={},attribName="",a.stripAttrPrefix?attribName=oAttrib.name.replace(b,""):attribName=oAttrib.name,a.grokAttr?l[a.valueKey]=grokType(oAttrib.value.replace(c,"")):l[a.valueKey]=oAttrib.value.replace(c,""),a.xmlns&&oAttrib.namespaceURI&&(l[a.namespaceKey]=oAttrib.namespaceURI),a.attrsAsObject?i[attribName]=l:f[a.attrKey+attribName]=l;a.attrsAsObject&&(f[a.attrKey]=i)}if(d.hasChildNodes())for(var j,k,l,m=0;m<d.childNodes.length;m++)j=d.childNodes.item(m),4===j.nodeType?a.mergeCDATA?h+=j.nodeValue:f.hasOwnProperty(a.cdataKey)?(f[a.cdataKey].constructor!==Array&&(f[a.cdataKey]=[f[a.cdataKey]]),f[a.cdataKey].push(j.nodeValue)):a.childrenAsArray?(f[a.cdataKey]=[],f[a.cdataKey].push(j.nodeValue)):f[a.cdataKey]=j.nodeValue:3===j.nodeType?h+=j.nodeValue:1===j.nodeType&&(0===g&&(f={}),k=a.stripElemPrefix?j.nodeName.replace(b,""):j.nodeName,l=xmlToJSON.parseXML(j),f.hasOwnProperty(k)?(f[k].constructor!==Array&&(f[k]=[f[k]]),f[k].push(l)):(a.childrenAsArray?(f[k]=[],f[k].push(l)):f[k]=l,g++));else h||(a.childrenAsArray?(f[a.textKey]=[],f[a.textKey].push(null)):f[a.textKey]=null);return h&&(a.grokText?(value=this.grokType(h.replace(c,"")),null!==value&&void 0!==value&&(f[a.textKey]=value)):a.normalize?f[a.textKey]=h.replace(c,"").replace(/\s+/g," "):f[a.textKey]=h.replace(c,"")),f},this.xmlToString=function(a){try{var b=a.xml?a.xml:(new XMLSerializer).serializeToString(a);return b}catch(c){return null}},this.stringToXML=function(a){try{var b=null;if(window.DOMParser){var c=new DOMParser;return b=c.parseFromString(a,"text/xml")}return b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a),b}catch(d){return null}},this}();!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}});
//# sourceMappingURL=maps/combined.map