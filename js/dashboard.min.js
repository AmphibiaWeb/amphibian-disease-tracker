var adminApiTarget,apiTarget,createChart,createOverflowMenu,getRandomDataColor,getServerChart;apiTarget=uri.urlString+"/api.php",adminApiTarget=uri.urlString+"/admin-api.php",window._adp={};try{(createOverflowMenu=function(){return checkLoggedIn(function(a){var b,c;return b=a.status?'    <paper-item data-href="https://amphibiandisease.org/admin" class="click">\n  <iron-icon icon="icons:settings-applications"></iron-icon>\n  Account Settings\n</paper-item>\n<paper-item data-href="https://amphibiandisease.org/admin-login.php?q=logout" class="click">\n  <span class="glyphicon glyphicon-log-out"></span>\n  Log Out\n</paper-item>':"",c='<paper-menu-button id="header-overflow-menu" vertical-align="bottom" horizontal-offset="-15" horizontal-align="right" vertical-offset="30">\n  <paper-icon-button icon="icons:more-vert" class="dropdown-trigger"></paper-icon-button>\n  <paper-menu class="dropdown-content">\n    '+b+'\n    <paper-item disabled data-href="https://github.com/AmphibiaWeb/amphibian-disease-tracker/issues/176" class="click">\n      Summary Dashboard\n    </paper-item>\n    <paper-item data-href="https://amphibian-disease-tracker.readthedocs.org" class="click">\n      <iron-icon icon="icons:chrome-reader-mode"></iron-icon>\n      Documentation\n    </paper-item>\n    <paper-item data-href="https://github.com/AmphibiaWeb/amphibian-disease-tracker" class="click">\n      <iron-icon icon="glyphicon-social:github"></iron-icon>\n      Github\n    </paper-item>\n    <paper-item data-href="https://amphibiandisease.org/about.php" class="click">\n      About / Legal\n    </paper-item>\n  </paper-menu>\n</paper-menu-button>',$("#header-overflow-menu").remove(),$("header#header-bar .logo-container + p").append(c),isNull(b)||$("header#header-bar paper-icon-button[icon='icons:settings-applications']").remove(),bindClicks()}),!1})()}catch(a){}createChart=function(a,b,c,d){var e,f,g,h,i,j,k,l;return null==c&&(c=!1),null==d&&(d="main"),"object"!=typeof b?(console.error("Can't create a chart without a data object"),!1):(j={label:"Sample Data",data:[65,59,80,81,56,55,40],borderWidth:1,borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"]},l=[j],k={labels:["January","February","March","April","May","June","July"],datasets:l},isNull(b.data)&&(i=b,console.warn("No data for chart, will use sample data",i)),null==b.data&&(b.data=k),null==b.type&&(b.type="bar"),"object"!=typeof b.options&&(b.options={responsive:!0}),$(a).exists()||(h="#"===a.slice(0,1)?a.slice(1):"dataChart-"+$("canvas").length,g='<canvas id="'+h+'" class="chart dynamic-chart">\n</canvas>',$(d).append(g)),f=$(a),e=new Chart(f,b),console.info("Chart created with",b),e)},getRandomDataColor=function(){var a,b;return a="rgba("+randomInt(0,255)+","+randomInt(0,255)+","+randomInt(0,255),b={border:a+",1)",background:a+",0.2"}},getServerChart=function(){var a;return a="action=chart",$.post(apiTarget,a,"json").done(function(a){var b,c,d,e,f,g,h,i,j,k;if(a.status===!1)return console.error("Server had a problem fetching chart data - "+a.human_error),console.warn(a),!1;for(b=a.data,g=Object.toArray(b.datasets),h=0,i=0,j=g.length;i<j;i++)f=g[i],f.data=Object.toArray(f.data),null==f.borderWidth&&(f.borderWidth=1),null==f.backgroundColor&&(e=getRandomDataColor(),f.borderColor=e.border,f.backgroundColor=e.background),g[h]=f,++h;return c={labels:Object.toArray(b.labels),datasets:g},d={data:c,type:null!=(k=b.type)?k:"bar"},createChart("#chart-"+g[0].label.replace(" ","-"),d),!1}).fail(function(a,b){return!1}),!1},$(function(){return console.log("Loaded dashboard"),createChart("#sample",{}),!1});
//# sourceMappingURL=dashboard.min.js.map