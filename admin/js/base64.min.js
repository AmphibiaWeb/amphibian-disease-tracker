function StringBuffer(){this.buffer=[]}StringBuffer.prototype.append=function append(a){this.buffer.push(a);return this};StringBuffer.prototype.toString=function toString(){return this.buffer.join("")};var Base64={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a=new StringBuffer();var b=new Utf8EncodeEnumerator(c);while(b.moveNext()){var j=b.current;b.moveNext();var h=b.current;b.moveNext();var f=b.current;var i=j>>2;var g=((j&3)<<4)|(h>>4);var e=((h&15)<<2)|(f>>6);var d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a.append(this.codex.charAt(i)+this.codex.charAt(g)+this.codex.charAt(e)+this.codex.charAt(d))}return a.toString()},decode:function(c){var b=new StringBuffer();var f=new Base64DecodeEnumerator(c);while(f.moveNext()){var a=f.current;if(a<128){b.append(String.fromCharCode(a))}else{if((a>191)&&(a<224)){f.moveNext();var e=f.current;b.append(String.fromCharCode(((a&31)<<6)|(e&63)))}else{f.moveNext();var e=f.current;f.moveNext();var d=f.current;b.append(String.fromCharCode(((a&15)<<12)|((e&63)<<6)|(d&63)))}}}return b.toString()}};function Utf8EncodeEnumerator(a){this._input=a;this._index=-1;this._buffer=[]}Utf8EncodeEnumerator.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0){this.current=this._buffer.shift();return true}else{if(this._index>=(this._input.length-1)){this.current=Number.NaN;return false}else{var a=this._input.charCodeAt(++this._index);if((a==13)&&(this._input.charCodeAt(this._index+1)==10)){a=10;this._index+=2}if(a<128){this.current=a}else{if((a>127)&&(a<2048)){this.current=(a>>6)|192;this._buffer.push((a&63)|128)}else{this.current=(a>>12)|224;this._buffer.push(((a>>6)&63)|128);this._buffer.push((a&63)|128)}}return true}}}};function Base64DecodeEnumerator(a){this._input=a;this._index=-1;this._buffer=[]}Base64DecodeEnumerator.prototype={current:64,moveNext:function(){if(this._buffer.length>0){this.current=this._buffer.shift();return true}else{if(this._index>=(this._input.length-1)){this.current=64;return false}else{var g=Base64.codex.indexOf(this._input.charAt(++this._index));var f=Base64.codex.indexOf(this._input.charAt(++this._index));var e=Base64.codex.indexOf(this._input.charAt(++this._index));var d=Base64.codex.indexOf(this._input.charAt(++this._index));var c=(g<<2)|(f>>4);var b=((f&15)<<4)|(e>>2);var a=((e&3)<<6)|d;this.current=c;if(e!=64){this._buffer.push(b)}if(d!=64){this._buffer.push(a)}return true}}}};var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode64(c){c=escape(c);var a="";var k,h,f="";var j,g,e,d="";var b=0;do{k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+keyStr.charAt(j)+keyStr.charAt(g)+keyStr.charAt(e)+keyStr.charAt(d);k=h=f="";j=g=e=d=""}while(b<c.length);return a}function decode64(d){var b="";var l,j,g="";var k,h,f,e="";var c=0;var a=/[^A-Za-z0-9\+\/\=]/g;if(a.exec(d)){alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.")}d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{k=keyStr.indexOf(d.charAt(c++));h=keyStr.indexOf(d.charAt(c++));f=keyStr.indexOf(d.charAt(c++));e=keyStr.indexOf(d.charAt(c++));l=(k<<2)|(h>>4);j=((h&15)<<4)|(f>>2);g=((f&3)<<6)|e;b=b+String.fromCharCode(l);if(f!=64){b=b+String.fromCharCode(j)}if(e!=64){b=b+String.fromCharCode(g)}l=j=g="";k=h=f=e=""}while(c<d.length);return unescape(b)};